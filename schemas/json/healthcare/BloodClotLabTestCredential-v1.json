{
  "$metadata": {
    "uris": {
      "jsonLdContext": "https://raw.githubusercontent.com/Viken-Blockchain-Solutions/web3_patient_portal/main/schemas/json-ld/healthcare/BloodClotLabTestContext-v1.json-ld"
    },
    "version": "1.0",
    "type": "BloodClotLabTestCredential"
  },
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "The BloodClotLabTestCredential schema defines the structure for Verifiable Credentials that encapsulate the results of various blood clot tests. This schema is designed to be compliant with W3C Verifiable Credentials and FHIR (Fast Healthcare Interoperability Resources) standards. It is tailored for healthcare applications, particularly for laboratories issuing test results.",
  "title": "BloodClotLabTestCredential-v1",
  "type": "object",
  "required": [
    "credentialSubject",
    "@context",
    "id",
    "issuanceDate",
    "issuer",
    "type",
    "credentialSchema"
  ],
  "properties": {
    "@context": {
      "type": ["string", "array", "object"]
    },
    "id": {
      "type": "string"
    },
    "type": {
      "type": ["string", "array"],
      "items": {
        "type": "string"
      }
    },
    "issuer": {
      "type": ["string", "object"],
      "format": "uri",
      "required": ["id"],
      "properties": {
        "id": {
          "type": "string",
          "format": "uri"
        }
      }
    },
    "issuanceDate": {
      "type": "string",
      "format": "date-time"
    },
    "expirationDate": {
      "type": "string",
      "format": "date-time"
    },
    "credentialSchema": {
      "type": "object",
      "required": ["id", "type"],
      "properties": {
        "id": {
          "type": "string",
          "format": "uri"
        },
        "type": {
          "type": "string"
        }
      }
    },
    "credentialSubject": {
      "type": "object",
      "required": ["id", "testName", "testResult"],
      "properties": {
        "id": {
          "title": "Credential Subject ID",
          "type": "string",
          "format": "uri",
          "description": "The unique identifier for the credential subject, usually a URI."
        },
        "testName": {
          "title": "Test Name",
          "type": "string",
          "description": "The name of the blood clot test being performed."
        },
        "testResult": {
          "title": "Test Result",
          "type": "object",
          "description": "The object containing all the individual test results.",
          "properties": {
            "D-dimer": {
              "title": "D-dimer Test Result",
              "type": "object",
              "description": "Results for the D-dimer test.",
              "required": ["value", "unit"],
              "properties": {
                "value": {"title": "Value", "type": "string", "description": "The measured value of D-dimer."},
                "unit": {"title": "Unit", "type": "string", "description": "The unit of measurement for D-dimer."},
                "referenceRange": {"title": "Reference Range", "type": "string", "description": "The reference range for D-dimer."}
              }
            },
            "PlateletCount": {
              "title": "Platelet Count Test Result",
              "type": "object",
              "description": "Results for the Platelet Count test.",
              "required": ["value", "unit"],
              "properties": {
                "value": {"title": "Value", "type": "string", "description": "The measured value of Platelet Count."},
                "unit": {"title": "Unit", "type": "string", "description": "The unit of measurement for Platelet Count."},
                "referenceRange": {"title": "Reference Range", "type": "string", "description": "The reference range for Platelet Count."}
              }
            },
            "ProthrombinTime": {
              "title": "Prothrombin Time Test Result",
              "type": "object",
              "description": "Results for the Prothrombin Time test.",
              "required": ["value", "unit"],
              "properties": {
                "value": {"title": "Value", "type": "string", "description": "The measured value of Prothrombin Time."},
                "unit": {"title": "Unit", "type": "string", "description": "The unit of measurement for Prothrombin Time."},
                "referenceRange": {"title": "Reference Range", "type": "string", "description": "The reference range for Prothrombin Time."}
              }
            },
            "aPTT": {
              "title": "aPTT Test Result",
              "type": "object",
              "description": "Results for the aPTT (Activated Partial Thromboplastin Time) test.",
              "required": ["value", "unit"],
              "properties": {
                "value": {"title": "Value", "type": "string", "description": "The measured value of aPTT."},
                "unit": {"title": "Unit", "type": "string", "description": "The unit of measurement for aPTT."},
                "referenceRange": {"title": "Reference Range", "type": "string", "description": "The reference range for aPTT."}
              }
            },
            "FibrinogenLevel": {
              "title": "Fibrinogen Level Test Result",
              "type": "object",
              "description": "Results for the Fibrinogen Level test.",
              "required": ["value", "unit"],
              "properties": {
                "value": {"title": "Value", "type": "string", "description": "The measured value of Fibrinogen Level."},
                "unit": {"title": "Unit", "type": "string", "description": "The unit of measurement for Fibrinogen Level."},
                "referenceRange": {"title": "Reference Range", "type": "string", "description": "The reference range for Fibrinogen Level."}
              }
            }
          }
        }
      }
    }
  }
}
